# 0. 全体フロー
```mermaid

flowchart TD

START[開始] --> CHK{新規 Project？}

%% 新規プロジェクト
CHK -->|Yes| PRJ_NEW[1. プロジェクト作成<br/>（環境 & リポジトリ）]
PRJ_NEW --> RQ_NEW[2. 要件定義]
RQ_NEW --> AR_NEW[3. アーキテクチャ検討<br/>・設計判断]
AR_NEW --> ADR_NEW[4. ADR作成]
ADR_NEW --> DES[5. 設計（UI/ドメイン/IF）]
DES --> PLAN[6. プラン作成]
PLAN --> IMP[7. 実装]
IMP --> TST[8. テスト & レビュー]
TST --> ADR_FEED[9. ADR見直し・更新]
ADR_FEED --> END[終了]

%% 既存プロジェクト
CHK -->|No| ADR_OLD[1'. 既存ADRの確認]
ADR_OLD --> RQ_EXT[2'. 新しい要件定義<br/>（既存ADRを参照）]
RQ_EXT --> AR_EXT[3'. 新しい設計判断<br/>（整合性確認）]
AR_EXT --> ADR_EXT[4'. ADR作成・更新<br/>（必要に応じて）]
ADR_EXT --> DES
```

# 1. ClaudeCodeを使う際の便利なコマンド
## 1.1. メモリ更新
1. `#` でメモリモード  
2. `1. Project memory`  
3. `Claude.md` 更新  

## 1.2 コンテキスト管理
大量にやり取りをすると、Claudeのコンテキストが増加し品質低下を起こす。その際は下記の2コマンドを検討する
```claude
/clear
/compact
```
## 1.3 カスタムコマンド作成
下記のように`.claude/commands`にmd形式でコマンドを作成依頼できる。Claudeの再起動後はコマンドが反映される。

```claude
ruff, mypy, pytest を利用した品質チェック手順を
.claude/commands/quality-fix.md にまとめてください
```
## 1.4 Claudeのメモリ管理
下記のように`.claude`配下にmdを置いてClaudeのプロジェクト起動の読み込みメモリを追加できる。
```md
- .claude/ard.md             : Requirementルール
- .claude/ard.md             : ADRルール

```
