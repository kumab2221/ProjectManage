# 開発プロセス 品質チェックリスト

本ドキュメントは、要求・要件・システム設計・ソフトウェア設計の品質基準を明確に定義し、
後工程の設計・実装・テストでの解釈ブレを防止することを目的とする。

---

# 1. 要求品質チェックリスト（ビジネス視点）

要求は「目的・価値・制約・成功条件」を示すものであり、  
システム仕様（処理分岐・画面遷移・図など）は含めない。

## 1.1 完全性（抜け漏れがない）
- [ ] ビジネス目的が明確に1文で定義されている
- [ ] ステークホルダ全員のニーズが列挙されている
- [ ] システム範囲・対象業務が定義されている
- [ ] 前提条件・制約（業務・法規・環境）が明記されている
- [ ] 想定ユーザの利用シナリオが文章で記述されている（図は不要）

## 1.2 明確性（曖昧語の排除）
- [ ] 曖昧語（柔軟・迅速・使いやすい 等）が存在しない
- [ ] 主観表現がない（「便利」「適宜」「必要に応じて」など）
- [ ] 目的と手段が混在していない  
  （× DB保存する → 要件 ／ ○ 利用履歴を参照できる → 要求）
- [ ] 各要求が1文で理解できる粒度になっている

## 1.3 検証可能性（成功条件の定義）
- [ ] 成功条件が定量的 or 行動ベースで定義されている
- [ ] 実現したかどうかの判定が可能な記述になっている

## 1.4 一貫性
- [ ] 要求同士に矛盾がない
- [ ] 他部署・他システムと整合している
- [ ] 目的と要求が因果関係を持っている

## 1.5 変更容易性
- [ ] 要求IDが付与されている
- [ ] 粒度が揃っている
- [ ] 目的／要求／制約が明確に分離されている
- [ ] 業務フロー（文章 or 高レベル図）が更新しやすい構造

## 1.6 トレーサビリティ
- [ ] すべての要求に対応する要件が存在する
- [ ] 要求→要件の関係が明示されている
- [ ] 要求変更時に影響範囲が可視化できる


### 【要求 最終合否ゲート】
以下すべて満たさなければ要求は不合格とする：
- [ ] 目的・価値の領域に収まっている
- [ ] システム仕様が混入していない
- [ ] 成功条件が検証可能である
- [ ] 要件へ分解可能な粒度になっている

---

# 2. 要件品質チェックリスト（仕様視点）

要件は「システムが実現すべき具体的仕様」を示す。  
要求より深い粒度で、設計・実装・テストに直結する内容を書く。

シーケンス図・例外処理・I/O定義・データ仕様などは要件で必要。

## 2.1 完全性
- [ ] すべての要求に対応する要件が存在する
- [ ] 正常系・例外系・境界条件が明記されている
- [ ] 入力・出力・前提条件が定義されている

## 2.2 仕様の明確性（一意性）
- [ ] 曖昧語ゼロ
- [ ] 条件分岐が漏れなく記述されている
- [ ] 用語定義が統一されている

## 2.3 検証可能性
- [ ] 全要件がテストケースに変換可能
- [ ] 成功／失敗条件が明確
- [ ] パフォーマンス要件が数値で定義されている
- [ ] エラー処理／エラーコードが明確に定義されている

## 2.4 一貫性
- [ ] 図（シーケンス図・状態遷移図・ER図）と文章が一致
- [ ] 文書内／文書間で矛盾がない
- [ ] 要求との整合性が取れている
- [ ] 外部仕様との衝突がない

## 2.5 表現品質（構造化）
- [ ] 章立て・粒度が一定
- [ ] 表・リスト・図で構造化されている（文章のみの羅列ではない）
- [ ] 冗長説明が排除されている
- [ ] 仕様変更時の影響が限定される構造になっている

## 2.6 トレーサビリティ
- [ ] 要件IDが付与されている
- [ ] 要件→設計→実装→テストのマッピングが可能
- [ ] 要件変更時の影響箇所が明示されている


### 【要件 最終合否ゲート】
以下をすべて満たさなければ要件は不合格とする：
- [ ] 要件がテストケースに変換可能
- [ ] 図と文章の不一致がゼロ
- [ ] 例外処理・境界条件がすべて記述されている
- [ ] 設計・実装が迷わず着手できる粒度になっている

---

# 3. システム設計品質チェックリスト（C4モデル視点）

システム設計は「システム全体の構造と境界」を明確にするものであり、
C4モデルの System Context（レベル1）と Container（レベル2）を用いて可視化する。

## 3.1 完全性（抜け漏れがない）
- [ ] System Context 図がすべての外部アクター・外部システムを含んでいる
- [ ] Container 図がすべてのサブシステム・コンポーネントを含んでいる
- [ ] 外部システムとのインターフェース仕様の概要が記述されている
- [ ] データフローがエンドツーエンドで追跡可能である
- [ ] 配置環境・実行環境が具体的に記述されている

## 3.2 明確性（曖昧さの排除）
- [ ] システム境界（Trust Boundary）が明示されている
- [ ] 各コンテナの役割・責務が明確である
- [ ] 技術スタック（言語、FW、DB、インフラ）が具体的に記述されている
- [ ] 品質特性が定量化されている（応答時間、稼働率など）
- [ ] 制約が明確に記述されている（プラットフォーム、組織、運用）

## 3.3 一貫性
- [ ] System Context 図と Container 図が整合している
- [ ] データフローと外部システム一覧が一致している
- [ ] Quality Attributes と Constraints が矛盾していない
- [ ] 要件定義の REQ-F / REQ-NF と整合している

## 3.4 トレーサビリティ
- [ ] すべての REQ-F / REQ-NF が「Mapping to Requirements」でカバーされている
- [ ] 未対応要件が明示され、理由が記述されている
- [ ] 外部システムとの連携が要件と対応している

## 3.5 リスク分析
- [ ] システムレベルのリスクが分析されている（SPOF、スケーラビリティ、セキュリティ、運用）
- [ ] 将来の拡張方針が記述されている
- [ ] リスク軽減策が具体的に記述されている

### 【システム設計 最終合否ゲート】
以下をすべて満たさなければシステム設計は不合格とする：
- [ ] C4 System Context 図と Container 図が完備されている
- [ ] すべての外部アクター・外部システムが明示されている
- [ ] 品質特性が定量化されている
- [ ] すべての要件がシステム設計に反映されている
- [ ] ソフトウェアアーキテクチャの詳細（レイヤード、DDD等）は含まれていない

---

# 4. ソフトウェア設計品質チェックリスト（実装直結視点）

ソフトウェア設計は「実装へ迷いなく橋渡しできる設計書」であり、
UI / Domain / Infrastructure / Interface / Module の詳細設計を行う。

## 4.1 完全性（抜け漏れがない）
- [ ] すべての REQ-F / REQ-NF がどこかの設計要素に紐付いている
- [ ] クラス構成図・データフロー図・シーケンス図が揃っている
- [ ] エラー処理・異常系・受入条件がテスト観点まで落ちている
- [ ] レイヤー間の依存方向が明確である
- [ ] モジュール分離が適切である

## 4.2 明確性（一意性）
- [ ] クラス名・メソッド名・API名が具体的に記載されている
- [ ] データ構造（属性、型）が明確である
- [ ] 状態遷移が明確である
- [ ] 例外処理方針が明確である

## 4.3 Architecture Alignment（アーキテクチャ整合性）
- [ ] ADR の Decision と矛盾する設計が存在しない
- [ ] レイヤー依存ルールが守られている
- [ ] デザインパターンの適用が妥当である
- [ ] システム設計の Container 構成と整合している

## 4.4 一貫性
- [ ] クラス図とシーケンス図が一致している
- [ ] データフローと状態遷移が一致している
- [ ] 設計書間（UI / Domain / Infrastructure）の整合性が取れている

## 4.5 トレーサビリティ
- [ ] 要件 → 設計要素の対応が明確である
- [ ] 未対応要件の理由が明確である
- [ ] ADR との対応が明確である

## 4.6 テスト容易性
- [ ] モック化可能な設計になっている
- [ ] 依存性注入が考慮されている
- [ ] テスト観点が受入条件として記述されている

## 4.7 保守性
- [ ] Trade-offs（設計判断）が記録されている
- [ ] Risks（リスク）が分析されている
- [ ] 将来の変更時の影響箇所が明示されている

### 【ソフトウェア設計 最終合否ゲート】
以下をすべて満たさなければソフトウェア設計は不合格とする：
- [ ] すべての要件が設計要素に反映されている
- [ ] ADR との整合性が保たれている
- [ ] クラス図・シーケンス図・状態遷移図が完備されている
- [ ] レイヤー間の依存方向が明確である
- [ ] テスト容易性が考慮されている
- [ ] 実装者が迷わず着手できる粒度になっている
